<ng-container *ngIf="loading; else spinner">
  <form
    (ngSubmit)="submit(customer)"
    *ngIf="customer$ | async as customer"
    [formGroup]="formGroup"
  >
    <formly-form
      [fields]="fields"
      [form]="formGroup"
      [model]="customer"
    ></formly-form>
    <div class="buttons">
      <a [routerLink]="['..']" mat-raised-button>Back</a>
      <button
        (click)="remove(customer)"
        color="warn"
        mat-raised-button
        type="button"
      >
        Delete
      </button>
      <button color="primary" mat-raised-button type="submit">Save</button>
    </div>
  </form>
</ng-container>
<ng-template #spinner>
  <mat-spinner></mat-spinner>
</ng-template>
